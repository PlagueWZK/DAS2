# 魏佳答辩文档（前端与交互）

## 负责范围
- 前端页面布局与视觉设计（`templates/index.html`）
- 上传、预览、处理与下载交互逻辑
- 状态提示与错误处理

## 关键实现要点
- 三栏布局：上传/选项、预览对比、结果列表
- 拖拽上传 + 多文件选择
- 前端管理文件列表与选中状态
- 通过 `fetch` 调用后端接口，展示处理与下载结果

## 可能问题与回答

### Q1：前端如何支持多文件上传？
A：使用 `input[type=file]` 多选与拖拽事件，逐个文件上传并汇总展示列表。

### Q2：如何保证用户体验？
A：提供上传进度提示、处理中的加载状态、成功/失败消息提示，以及即时预览反馈。

### Q3：预览为什么走接口而不是直接展示本地文件？
A：增强后的结果由后端生成，且文件命名为 UUID；通过接口获取 Base64 更适合统一展示流程。

### Q4：结果列表如何与预览联动？
A：点击列表项触发 `selectFile()`，自动加载原图与结果图，形成对比展示。

### Q5：下载功能如何实现？
A：单张通过 `/download/<filename>`，批量通过 `/download_all` 返回 ZIP 并在浏览器触发下载。

### Q6：异常处理如何做？
A：捕获请求异常并给出提示；上传失败或处理失败都会显示错误消息，避免静默失败。

### Q7：UI 的设计取舍？
A：以功能效率为优先，三栏分区减少滚动，用户可以快速选择增强方式并对比结果。

### Q8：为什么不用前端框架（如 Vue/React）？
A：项目规模小、流程简单，使用原生 JS 可减少依赖与打包成本，上线更轻量。

### Q9：如何避免用户重复点击导致多次请求？
A：处理时将按钮禁用，完成后再恢复，避免重复提交和并发冲突。

### Q10：为什么采用三栏布局？
A：上传、预览、结果并行展示，减少来回切换，提高操作效率。

### Q11：结果列表较多时如何处理？
A：列表容器设置滚动区域，保证页面不被撑开；可进一步增加搜索或分页。

### Q12：浏览器兼容性如何？
A：主要依赖现代浏览器的 `fetch` 与拖拽 API，适配主流 Chrome/Edge；如需兼容旧版可加 polyfill。

## 答辩展示建议
- 演示拖拽上传与多图列表
- 演示增强后预览对比与批量下载
- 说明交互逻辑与状态提示设计

